ios:
  push_categories:

    - name: Alert
      identifier: 'ALERT'
      actions:
        - identifier: 'SOUND_ALERT'
          title: 'Sound Alert'
          activationMode: 'background'
          authenticationRequired: yes
          destructive: yes
          behavior: 'default'
          # context: 'default'
        - identifier: 'SILENCE_ALERT'
          title: 'Silence Alert'
          activationMode: 'background'
          authenticationRequired: yes
          destructive: no
          behavior: 'TextInput'
          # context: 'default'
          textInputButtonTitle: 'Silence!'
          textInputPlaceholder: '...'
          # parameters:
          #   UIUserNotificationTextInputActionButtonTitleKey: "Silence!"

notify:
  - platform: ios
    name: iOSApp
    target: 'TOKEN'

sensor:
  - platform: template
    sensors:
      battery_pesiphone7plus:
        friendly_name: "Battery on Pe iPhone 7 Plus"
        icon_template: '{% if is_state("sensor.pes_iphone_7_plus_battery_state", "Unknown") %}mdi:battery-unknown{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float <= 5 %}mdi:battery-outline{% elif is_state("sensor.pes_iphone_7_plus_battery_state", "Full") %}mdi:battery{% elif is_state("sensor.pes_iphone_7_plus_battery_state", "Unplugged") %}{% if states.sensor.pes_iphone_7_plus_battery_level.state | float > 5 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 15 %}mdi:battery-10{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 15 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 25 %}mdi:battery-20{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 25 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 35 %}mdi:battery-30{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 35 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 45 %}mdi:battery-40{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 45 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 55 %}mdi:battery-50{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 55 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 65 %}mdi:battery-60{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 65 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 75 %}mdi:battery-70{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 75 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 85 %}mdi:battery-80{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 85 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 95 %}mdi:battery-90{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 95 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 100 %}mdi:battery{% endif %}{% elif is_state("sensor.pes_iphone_7_plus_battery_state", "Charging") %}{% if states.sensor.pes_iphone_7_plus_battery_level.state | float > 5 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 25 %}mdi:battery-charging-20{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 25 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 35 %}mdi:battery-charging-30{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 35 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 45 %}mdi:battery-charging-40{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 45 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 65 %}mdi:battery-charging-60{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 65 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 85 %}mdi:battery-charging-80{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 85 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 95 %}mdi:battery-charging-90{% elif states.sensor.pes_iphone_7_plus_battery_level.state | float > 95 and states.sensor.pes_iphone_7_plus_battery_level.state | float <= 100 %}mdi:battery-charging-100{% endif %}{% endif %}'
        value_template: '{{ states.sensor.pes_iphone_7_plus_battery_level.state }}'
        unit_of_measurement: '%'
        # device_class: battery
      battery_pesipadmini2:
        friendly_name: "Battery on Pe iPad Mini 2"
        icon_template: '{% if is_state("sensor.pes_ipad_mini_2_battery_state", "Unknown") %}mdi:battery-unknown{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float <= 5 %}mdi:battery-outline{% elif is_state("sensor.pes_ipad_mini_2_battery_state", "Full") %}mdi:battery{% elif is_state("sensor.pes_ipad_mini_2_battery_state", "Unplugged") %}{% if states.sensor.pes_ipad_mini_2_battery_level.state | float > 5 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 15 %}mdi:battery-10{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 15 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 25 %}mdi:battery-20{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 25 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 35 %}mdi:battery-30{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 35 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 45 %}mdi:battery-40{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 45 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 55 %}mdi:battery-50{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 55 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 65 %}mdi:battery-60{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 65 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 75 %}mdi:battery-70{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 75 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 85 %}mdi:battery-80{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 85 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 95 %}mdi:battery-90{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 95 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 100 %}mdi:battery{% endif %}{% elif is_state("sensor.pes_ipad_mini_2_battery_state", "Charging") %}{% if states.sensor.pes_ipad_mini_2_battery_level.state | float > 5 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 25 %}mdi:battery-charging-20{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 25 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 35 %}mdi:battery-charging-30{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 35 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 45 %}mdi:battery-charging-40{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 45 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 65 %}mdi:battery-charging-60{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 65 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 85 %}mdi:battery-charging-80{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 85 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 95 %}mdi:battery-charging-90{% elif states.sensor.pes_ipad_mini_2_battery_level.state | float > 95 and states.sensor.pes_ipad_mini_2_battery_level.state | float <= 100 %}mdi:battery-charging-100{% endif %}{% endif %}'
        value_template: '{{ states.sensor.pes_ipad_mini_2_battery_level.state }}'
        unit_of_measurement: '%'
        # device_class: battery
      battery_juesiphone6splus:
        friendly_name: "Battery on Jue iPhone 6s Plus"
        icon_template: '{% if is_state("sensor.jues_iphone_6s_plus_battery_state", "Unknown") %}mdi:battery-unknown{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 5 %}mdi:battery-outline{% elif is_state("sensor.jues_iphone_6s_plus_battery_state", "Full") %}mdi:battery{% elif is_state("sensor.jues_iphone_6s_plus_battery_state", "Unplugged") %}{% if states.sensor.jues_iphone_6s_plus_battery_level.state | float > 5 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 15 %}mdi:battery-10{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 15 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 25 %}mdi:battery-20{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 25 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 35 %}mdi:battery-30{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 35 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 45 %}mdi:battery-40{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 45 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 55 %}mdi:battery-50{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 55 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 65 %}mdi:battery-60{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 65 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 75 %}mdi:battery-70{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 75 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 85 %}mdi:battery-80{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 85 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 95 %}mdi:battery-90{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 95 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 100 %}mdi:battery{% endif %}{% elif is_state("sensor.jues_iphone_6s_plus_battery_state", "Charging") %}{% if states.sensor.jues_iphone_6s_plus_battery_level.state | float > 5 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 25 %}mdi:battery-charging-20{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 25 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 35 %}mdi:battery-charging-30{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 35 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 45 %}mdi:battery-charging-40{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 45 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 65 %}mdi:battery-charging-60{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 65 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 85 %}mdi:battery-charging-80{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 85 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 95 %}mdi:battery-charging-90{% elif states.sensor.jues_iphone_6s_plus_battery_level.state | float > 95 and states.sensor.jues_iphone_6s_plus_battery_level.state | float <= 100 %}mdi:battery-charging-100{% endif %}{% endif %}'
        value_template: '{{ states.sensor.jues_iphone_6s_plus_battery_level.state }}'
        unit_of_measurement: '%'
        # device_class: battery
      battery_juesipadmini2:
        friendly_name: "Battery on Jue iPad Mini 2"
        icon_template: '{% if is_state("sensor.jues_ipad_mini_2_battery_state", "Unknown") %}mdi:battery-unknown{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float <= 5 %}mdi:battery-outline{% elif is_state("sensor.jues_ipad_mini_2_battery_state", "Full") %}mdi:battery{% elif is_state("sensor.jues_ipad_mini_2_battery_state", "Unplugged") %}{% if states.sensor.jues_ipad_mini_2_battery_level.state | float > 5 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 15 %}mdi:battery-10{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 15 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 25 %}mdi:battery-20{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 25 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 35 %}mdi:battery-30{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 35 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 45 %}mdi:battery-40{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 45 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 55 %}mdi:battery-50{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 55 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 65 %}mdi:battery-60{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 65 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 75 %}mdi:battery-70{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 75 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 85 %}mdi:battery-80{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 85 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 95 %}mdi:battery-90{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 95 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 100 %}mdi:battery{% endif %}{% elif is_state("sensor.jues_ipad_mini_2_battery_state", "Charging") %}{% if states.sensor.jues_ipad_mini_2_battery_level.state | float > 5 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 25 %}mdi:battery-charging-20{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 25 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 35 %}mdi:battery-charging-30{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 35 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 45 %}mdi:battery-charging-40{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 45 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 65 %}mdi:battery-charging-60{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 65 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 85 %}mdi:battery-charging-80{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 85 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 95 %}mdi:battery-charging-90{% elif states.sensor.jues_ipad_mini_2_battery_level.state | float > 95 and states.sensor.jues_ipad_mini_2_battery_level.state | float <= 100 %}mdi:battery-charging-100{% endif %}{% endif %}'
        value_template: '{{ states.sensor.jues_ipad_mini_2_battery_level.state }}'
        unit_of_measurement: '%'
        # device_class: battery
