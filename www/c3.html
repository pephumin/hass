<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawChart1);


var series = [   1, 3, 5, 7, 2.5, 3.1, 0.45, 5.1, 8.3, 4, 5.11, 3.9 ];
var seriesTitle = "Length";

var bins      = [   2,    4,    6 ];
// There should be one for each bin plus an extra for larger values
var binTitles = ['0-2','2-4','4-6','more'];


var histo = new Array();

function initHisto(title,bins) {
  // header line
  histo.push([]);
  histo[0][0]   = title;
  histo[0][1]   = "freq";

  // create one row for each bin
  for(b=0; b<binTitles.length; b++ ) {
    // Create new row
    histo.push([]);
    histo[b+1][0]       = ""+binTitles[b];
    histo[b+1][1]       = 0;
  }
}

initHisto( seriesTitle, bins );


var maxFreq     = 0;    // Necessary to set the maximum y-value

function frequency( series, bins ) {
  for(d=0; d<series.length; d++ ) {
    // first bin
    if( series[d]<=bins[0] ) {
        histo[1][1]++;
        continue;
    }
    // last unnamed bin
    if( bins[bins.length-1]<series[d] ) {
        histo[bins.length+1][1]++;
        continue;
    }
    // any bin in between
    for(b=0; b<bins.length-1; b++ ) {
       if( bins[b]<series[d] && series[d]<=bins[b+1] ) {
          histo[b+2][1]++;
       }
    }
  }

  for(h=1; h<histo.length; h++ ) {
    if( maxFreq<histo[h][1] ) {
      maxFreq   = histo[h][1];
    }
  }
}

frequency( series, bins );

function drawChart1() {
  var data = google.visualization.arrayToDataTable( histo );

  var numGrids;
  //  if maxFreq is odd we make it even
  if( maxFreq%2 == 1 ) {
    maxFreq++;
  }
  //  the grid lines should be every even number
  numGrids        = maxFreq/2 +1;

  var options = {
    title:  'Histogram',
    legend: { position: 'none' },     // no legend
    bar:    { groupWidth: '99%' },    // in order to increase the thickness of the bars with a little space in between
    vAxis:  { title: histo[0][1], minValue: 0, maxValue: maxFreq, gridlines: { count: numGrids } },
    hAxis:  { title: histo[0][0] },
    backgroundColor: {strokeWidth: 2 },   // to get a nice box
  };

  var chart = new google.visualization.ColumnChart(document.getElementById('chart_divH'));
  chart.draw(data, options);
}

// If you want to use other types of data series you need to change the frequency function
// and instead of mathematical greater/less comparisons you need to write the appropriate code for your case.
// The given 'grades' example could be something like if( series[d]==bins[b] ) { histo[b+1][1]++; }

</script>

<div id="chart_divH" style="width: 300px; height: 300px;"></div>
